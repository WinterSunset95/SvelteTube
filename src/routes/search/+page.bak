
export async function load({ params, url }) {
	let query = await url.searchParams.get('query')

	const invidiousSearch = await fetch(`https://invidious.lunar.icu/api/v1/search?q=${query}`)
	const invidiousSearchJson = await invidiousSearch.json()

	let animepaheSearchJson
	fetch(`https://animepahe.ru/api?m=search&q=${query}`)
	.then(res => res.json())
	.then(data => animepaheSearchJson = data)
	.catch(err => console.log(err))

	return {
		query,
		youtube: [
			...invidiousSearchJson
		],
		animepahe: animepaheSearchJson
	}
}
